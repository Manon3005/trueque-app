"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6274],{6274:(w,g,r)=>{r.r(g),r.d(g,{SignupPageModule:()=>x});var f=r(2200),c=r(4341),a=r(9893),m=r(8132),h=r(467),l=r(2615),v=r(1531),y=r(5032),b=r(4843),e=r(3664),M=r(2308);let F=(()=>{var s;class n{validate(o){if(!o.parent)return null;const t=o.parent.get(this.passwordToMatch);return t&&o&&t.value!==o.value?{passwordMismatch:!0}:null}static#e=s=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275dir=e.FsC({type:n,selectors:[["","appPasswordMatch",""]],inputs:{passwordToMatch:[0,"appPasswordMatch","passwordToMatch"]},standalone:!1,features:[e.Jv_([{provide:c.cz,useExisting:n,multi:!0}])]}))}return s(),n})();const C=[{path:"",component:(()=>{var s;class n{constructor(){this.acceptTerms=!1,this.authService=(0,l.WQX)(v.u),this.loadingController=(0,l.WQX)(a.Xi),this.toastController=(0,l.WQX)(a.K_),this.navController=(0,l.WQX)(y.q9)}ngOnInit(){}onSubmit(o){var t=this;return(0,h.A)(function*(){if(o.invalid)return void Object.values(o.controls).forEach(p=>{p.markAsTouched()});const i=yield t.loadingController.create({message:"Creando cuenta..."});yield i.present();const d={rut:o.value.rut,email:o.value.email,password:o.value.password,username:o.value.username,region:o.value.region,city:o.value.comuna,role:"USER"};try{yield(0,b._)(t.authService.register(d)),yield i.dismiss(),yield t.presentToast("\xa1Cuenta creada con \xe9xito!","success"),t.navController.navigateRoot("/login")}catch(p){yield i.dismiss();const u=p?.error?.message||"Error al crear la cuenta.";yield t.presentToast(u,"danger")}})()}presentToast(o,t){var i=this;return(0,h.A)(function*(){(yield i.toastController.create({message:o,duration:3e3,color:t,position:"top"})).present()})()}static#e=s=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275cmp=e.VBU({type:n,selectors:[["app-signup"]],standalone:!1,decls:32,vars:3,consts:[["f","ngForm"],[3,"fullscreen"],[1,"ion-justify-content-center","ion-align-items-center"],[1,"title"],[1,"sign-up-header"],[1,"body"],["routerLink","/login",1,"body"],[1,"sign-up-forms"],[3,"ngSubmit"],["label","RUT","labelPlacement","stacked","errorText","No puede estar vacillo","name","rut","ngModel","","required",""],["label","Correo electr\xf3nico","type","email","labelPlacement","stacked","errorText","Introduzca una direcci\xf3n de correo electr\xf3nico v\xe1lida","name","email","ngModel","","required",""],["label","Nombre de usuario","labelPlacement","stacked","errorText","No puede estar vacillo","name","username","ngModel","","required",""],["label","Contrase\xf1a","type","password","labelPlacement","stacked","errorText","M\xednimo 8 caracteres, con al menos una may\xfascula, una min\xfascula y un n\xfamero","name","password","ngModel","","required","","appPasswordValidator",""],["label","Confirmaci\xf3n de contrase\xf1a","type","password","labelPlacement","stacked","errorText","Ambos campos de contrase\xf1a deben ser iguales","name","confirmPassword","ngModel","","required","",3,"appPasswordMatch"],["label","Regi\xf3n","labelPlacement","stacked","errorText","No puede estar vacillo","name","region","ngModel","","required",""],["label","Comuna","labelPlacement","stacked","errorText","No puede estar vacillo","name","comuna","ngModel","","required",""],["lines","none"],["href","#"],["slot","start","name","acceptTerms","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(t,i){if(1&t){const d=e.RV6();e.j41(0,"ion-content",1)(1,"ion-grid")(2,"ion-col")(3,"ion-row",2)(4,"p",3),e.EFF(5,"Trueque"),e.k0s()(),e.j41(6,"ion-row",2)(7,"div",4)(8,"p",5),e.EFF(9,"Ya tienes una cuenta?"),e.k0s(),e.j41(10,"a",6),e.EFF(11,"Inicia sesi\xf3n!"),e.k0s()()(),e.j41(12,"ion-row",2)(13,"div",7)(14,"form",8,0),e.bIt("ngSubmit",function(){l.eBV(d);const u=e.sdS(15);return l.Njj(i.onSubmit(u))}),e.nrm(16,"ion-input",9)(17,"ion-input",10)(18,"ion-input",11)(19,"ion-input",12)(20,"ion-input",13)(21,"ion-input",14)(22,"ion-input",15),e.j41(23,"ion-item",16)(24,"ion-label"),e.EFF(25," He leido y acepto "),e.j41(26,"a",17),e.EFF(27,"terminos y condiciones"),e.k0s(),e.EFF(28,". "),e.k0s(),e.j41(29,"ion-checkbox",18),e.mxI("ngModelChange",function(u){return l.eBV(d),e.DH7(i.acceptTerms,u)||(i.acceptTerms=u),l.Njj(u)}),e.k0s()(),e.j41(30,"ion-button",19),e.EFF(31,"Registrarse"),e.k0s()()()()()()()}2&t&&(e.Y8G("fullscreen",!0),e.R7$(20),e.Y8G("appPasswordMatch","password"),e.R7$(9),e.R50("ngModel",i.acceptTerms))},dependencies:[c.qT,c.BC,c.cb,c.YS,c.vS,c.cV,a.Jm,a.eY,a.hU,a.W9,a.lO,a.$w,a.uz,a.he,a.ln,a.hB,a.Gw,a.oY,m.Wk,M.f,F],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-primary)}ion-button[_ngcontent-%COMP%]{width:40%;text-transform:none;color:#fff;display:block;margin:0 auto;padding-top:10px}.sign-up-forms[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:10px 10px 0 0;max-width:500px;min-width:250px;width:100%;height:75vh;gap:5vh;padding:4vh;overflow:hidden;bottom:0;position:fixed;overflow-y:auto}.title[_ngcontent-%COMP%]{position:fixed;color:#fff;font-size:4rem;font-family:Libre Baskerville;bottom:82vh;margin:0}.sign-up-header[_ngcontent-%COMP%]{position:fixed;bottom:74vh;left:0;right:0;display:flex;justify-content:center;align-items:center;gap:.5rem;text-align:center}.body[_ngcontent-%COMP%]{color:#fff;font-size:.9rem}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px}ion-input[_ngcontent-%COMP%]{--highlight-color-valid: var(--ion-color-primary)}"]}))}return s(),n})()}];let P=(()=>{var s;class n{static#e=s=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[m.iI.forChild(C),m.iI]}))}return s(),n})();var T=r(6972);let x=(()=>{var s;class n{static#e=s=()=>(this.\u0275fac=function(t){return new(t||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[f.MD,c.YN,a.bv,P,T.G]}))}return s(),n})()}}]);